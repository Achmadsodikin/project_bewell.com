{"ast":null,"code":"import Axios from \"axios\";\nimport { URL_API } from \"../../helper\";\nexport const GET_USERS_DETAIL = \"GET_USERS_DETAIL\";\nexport const getUserDetail = id => {\n  return dispatch => {\n    Axios.get(`${URL_API}/user/getProfile`).then(res => {\n      dispatch({\n        type: GET_USERS_DETAIL,\n        payload: {\n          data: res.data,\n          errorMessage: false\n        }\n      });\n    }).catch(error => {\n      dispatch({\n        type: GET_USERS_DETAIL,\n        payload: {\n          data: false,\n          errorMessage: error.message\n        }\n      });\n    });\n  };\n}; // export const loginUser = ({ username, password }) => {\n//   return (dispatch) => {\n//     Axios.post(`${URL_API}/user/login`, {\n//       username,\n//       password\n//     })\n//     .then((res) => {\n//       if (res.data.length) {\n//         console.log(username, password)\n//         if (password === res.data[0].password) {\n//           delete res.data[0].password\n//           localStorage.setItem(\"userDataEmmerce\", JSON.stringify(res.data[0]))\n//           dispatch({\n//             type: \"USER_LOGIN\",\n//             payload: res.data[0]\n//           })\n//         } else {\n//           // Handle error wrong password\n//           dispatch({\n//             type: \"USER_ERROR\",\n//             payload: \"Wrong Password!\"\n//           })\n//         }\n//       } else {\n//         // Handle error username not found\n//         dispatch({\n//           type: \"USER_ERROR\",\n//           payload: \"Username or Password is Wrong\"\n//         })\n//       }\n//     })\n//     .catch((err) => {\n//       console.log(err)\n//       alert(\"Terjadi kesalahan di server\")\n//     })\n//   }\n// }\n\nexport const onBtnLogin = ({\n  username,\n  password\n}) => {\n  return dispatch => {\n    console.log(username, password);\n\n    if (username == \"\" || password == \"\") {\n      alert(\"Fill in All the Form\");\n    }\n\n    Axios.post(`${URL_API}/user/login`, {\n      username,\n      password\n    }).then(res => {\n      if (res.data.dataLogin !== 1) {\n        if (res.data.dataLogin) {\n          alert(\"Login Succes\");\n          console.log(\"Login Success ✔\");\n          console.log(res.data);\n          localStorage.setItem(\"userDataEmmerce\", res.data.dataLogin);\n          dispatch({\n            type: \"USER_LOGIN\",\n            payload: res.data.dataLogin\n          });\n        } else {\n          dispatch({\n            type: \"USER_ERROR\",\n            payload: \"Your Account is not Verified. Please Verify your Account!\"\n          });\n        }\n      } else {\n        dispatch({\n          type: \"USER_ERROR\",\n          payload: \"Wrong Username or Password\"\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}; // export const onBtnSubmit = ({currentPass, newPass, confNewPass}) => {\n//   // const {currentPass, newPass, confNewPass} = this.state\n//   // console.log(currentPass, newPass, confNewPass)\n//   return(dispatch) => {\n//     if (currentPass == \"\" || newPass == \"\" || confNewPass == \"\" ) {\n//       alert(\"Fill in All the Form\")\n//     } else if (newPass !== confNewPass) {\n//       alert(\"New Password Confirmation is not Matched\")\n//     } else {\n//       Axios.patch(`${URL_API}/user/change/${this.props.userGlobal.id_user}`, {\n//         newPass,\n//         currentPass\n//       })\n//       .then(res => {\n//         alert(\"Password Changed Successfully\")\n//         console.log(\"Password Changed Successfully\")\n//         dispatch({\n//           type: \"USER_CHANGE_PASS\",\n//           payload: res.data.dataLogin\n//         })\n//       })\n//       .catch(err => {\n//         alert(\"Your Current Password is Wrong\")\n//         console.log(err)\n//       })\n//     }\n//   }\n// }","map":{"version":3,"sources":["C:/Users/Abdul/Documents/GitHub/PWD-Pharma-2-JCWM01/front_end/src/redux/actions/user.js"],"names":["Axios","URL_API","GET_USERS_DETAIL","getUserDetail","id","dispatch","get","then","res","type","payload","data","errorMessage","catch","error","message","onBtnLogin","username","password","console","log","alert","post","dataLogin","localStorage","setItem","err"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport { URL_API } from \"../../helper\";\r\n\r\n\r\nexport const GET_USERS_DETAIL = \"GET_USERS_DETAIL\"\r\n\r\nexport const getUserDetail = (id) =>{\r\n  return (dispatch) =>{\r\n    Axios.get(`${URL_API}/user/getProfile`)\r\n    .then((res)=>{\r\n      dispatch({\r\n        type : GET_USERS_DETAIL,\r\n        payload : {\r\n          data : res.data,\r\n          errorMessage : false\r\n        }\r\n      })\r\n    })\r\n    .catch((error)=>{\r\n      dispatch({\r\n        type : GET_USERS_DETAIL,\r\n        payload : {\r\n          data : false,\r\n          errorMessage : error.message\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n}\r\n\r\n// export const loginUser = ({ username, password }) => {\r\n//   return (dispatch) => {\r\n//     Axios.post(`${URL_API}/user/login`, {\r\n//       username,\r\n//       password\r\n//     })\r\n//     .then((res) => {\r\n//       if (res.data.length) {\r\n//         console.log(username, password)\r\n//         if (password === res.data[0].password) {\r\n//           delete res.data[0].password\r\n\r\n//           localStorage.setItem(\"userDataEmmerce\", JSON.stringify(res.data[0]))\r\n\r\n//           dispatch({\r\n//             type: \"USER_LOGIN\",\r\n//             payload: res.data[0]\r\n//           })\r\n//         } else {\r\n//           // Handle error wrong password\r\n//           dispatch({\r\n//             type: \"USER_ERROR\",\r\n//             payload: \"Wrong Password!\"\r\n//           })\r\n//         }\r\n//       } else {\r\n//         // Handle error username not found\r\n//         dispatch({\r\n//           type: \"USER_ERROR\",\r\n//           payload: \"Username or Password is Wrong\"\r\n//         })\r\n//       }\r\n//     })\r\n//     .catch((err) => {\r\n//       console.log(err)\r\n//       alert(\"Terjadi kesalahan di server\")\r\n//     })\r\n//   }\r\n// }\r\n\r\nexport const onBtnLogin = ({ username, password }) => {\r\n  return (dispatch) => {\r\n    console.log(username, password)\r\n    if (username  == \"\" || password == \"\") {\r\n      alert(\"Fill in All the Form\")\r\n    }\r\n\r\n    Axios.post(`${URL_API}/user/login`, {\r\n      username,\r\n      password\r\n    })\r\n    .then((res) => {\r\n      if (res.data.dataLogin !== 1) {\r\n        if (res.data.dataLogin) {\r\n          alert(\"Login Succes\")\r\n          console.log(\"Login Success ✔\")\r\n          console.log(res.data)\r\n          localStorage.setItem(\"userDataEmmerce\", res.data.dataLogin)\r\n          dispatch({\r\n            type: \"USER_LOGIN\",\r\n            payload: res.data.dataLogin\r\n          })\r\n        } else {\r\n          dispatch({\r\n            type: \"USER_ERROR\",\r\n            payload: \"Your Account is not Verified. Please Verify your Account!\"\r\n          })\r\n        }\r\n      } else {\r\n        dispatch({\r\n          type: \"USER_ERROR\",\r\n          payload: \"Wrong Username or Password\"\r\n        })\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n}\r\n\r\n// export const onBtnSubmit = ({currentPass, newPass, confNewPass}) => {\r\n//   // const {currentPass, newPass, confNewPass} = this.state\r\n//   // console.log(currentPass, newPass, confNewPass)\r\n\r\n//   return(dispatch) => {\r\n//     if (currentPass == \"\" || newPass == \"\" || confNewPass == \"\" ) {\r\n//       alert(\"Fill in All the Form\")\r\n//     } else if (newPass !== confNewPass) {\r\n//       alert(\"New Password Confirmation is not Matched\")\r\n//     } else {\r\n//       Axios.patch(`${URL_API}/user/change/${this.props.userGlobal.id_user}`, {\r\n//         newPass,\r\n//         currentPass\r\n//       })\r\n//       .then(res => {\r\n//         alert(\"Password Changed Successfully\")\r\n//         console.log(\"Password Changed Successfully\")\r\n//         dispatch({\r\n//           type: \"USER_CHANGE_PASS\",\r\n//           payload: res.data.dataLogin\r\n//         })\r\n//       })\r\n//       .catch(err => {\r\n//         alert(\"Your Current Password is Wrong\")\r\n//         console.log(err)\r\n//       })\r\n//     }\r\n//   }\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}